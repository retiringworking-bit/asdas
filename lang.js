const translations = {
    en: {
        nav_home: "Home",
        nav_sell: "Sell",
        nav_rent: "Rent",
        nav_sitter: "Sitter",
        nav_analytics: "Analytics",
        nav_contact: "Contact",
        hero_title: "Eco-Friendly Pet Platform of Tashkent",
        hero_subtitle: "Buy, Rent, or Find Care — All in One Place",
        hero_cta: "Get Started Guide",
        hero_contact: "Contact Us",
        sect_sell_title: "Sell a Pet",
        sect_sell_desc: "Find a new home for your lovely pets",
        pet_golden: "Golden Retriever",
        pet_siamese: "Siamese Cat",
        pet_parrot: "Parrot",
        btn_details: "Details",
        sect_rent_title: "Rent a Pet",
        sect_rent_desc: "Spend time with animals without full commitment",
        rent_dog: "Walk a Dog",
        rent_dog_desc: "Great for exercise and fun.",
        rent_cat: "Cat Therapy",
        rent_cat_desc: "Relax with a purring friend.",
        btn_book: "Book Now",
        sect_sitter_title: "Find a Sitter",
        sect_sitter_desc: "Trusted care for your pets while you are away",
        sitter_exp_1: "5 years experience with dogs and cats.",
        sitter_exp_2: "Specialist in exotic birds.",
        btn_contact: "Contact",
        sect_lost_title: "Lost & Found",
        sect_lost_desc: "Help reunite pets with their owners",
        status_lost: "LOST",
        lost_dog_name: "Rex (German Shepherd)",
        last_seen: "Last seen: Chilanzar district",
        btn_found: "I Found It",
        sect_analytics_title: "Pet Analytics",
        sect_analytics_desc: "Trends in Tashkent",
        chart_adoption: "Adoption Rates",
        chart_types: "Popular Pet Types",
        sect_contact_title: "Contact Us",
        btn_send: "Send Message",
        modal_desc: "This lovely pet is looking for a new home. Ensure you have the necessary environment.",
        btn_buy_now: "Buy Now",
        modal_rent_desc: "Please select duration and confirm booking.",
        btn_confirm: "Confirm Booking",
        btn_request: "Request Call"
    },
    ru: {
        nav_home: "Главная",
        nav_sell: "Купить",
        nav_rent: "Аренда",
        nav_sitter: "Няня",
        nav_analytics: "Аналитика",
        nav_contact: "Контакты",
        hero_title: "Экологичная платформа питомцев Ташкента",
        hero_subtitle: "Покупка, аренда и уход — всё в одном месте",
        hero_cta: "Начальный гайд",
        hero_contact: "Связаться",
        sect_sell_title: "Купить питомца",
        sect_sell_desc: "Найдите новый дом для любимых животных",
        pet_golden: "Золотистый ретривер",
        pet_siamese: "Сиамская кошка",
        pet_parrot: "Попугай",
        btn_details: "Подробнее",
        sect_rent_title: "Аренда питомца",
        sect_rent_desc: "Проведите время с животными без обязательств",
        rent_dog: "Прогулка с собакой",
        rent_dog_desc: "Отлично для здоровья и веселья.",
        rent_cat: "Кототерапия",
        rent_cat_desc: "Отдохните с мурлыкающим другом.",
        btn_book: "Забронировать",
        sect_sitter_title: "Найти няню",
        sect_sitter_desc: "Надежный уход за питомцами в ваше отсутствие",
        sitter_exp_1: "5 лет опыта с собаками и кошками.",
        sitter_exp_2: "Специалист по экзотическим птицам.",
        btn_contact: "Связаться",
        sect_lost_title: "Потерянные и Найденные",
        sect_lost_desc: "Помогите вернуть питомцев домой",
        status_lost: "ПРОПАЛ",
        lost_dog_name: "Рекс (Немецкая овчарка)",
        last_seen: "Последний раз видели: Чиланзар",
        btn_found: "Я нашел",
        sect_analytics_title: "Аналитика",
        sect_analytics_desc: "Тренды в Ташкенте",
        chart_adoption: "Уровень пристройства",
        chart_types: "Популярные виды",
        sect_contact_title: "Свяжитесь с нами",
        btn_send: "Отправить",
        modal_desc: "Этот питомец ищет новый дом. Убедитесь, что у вас есть условия.",
        btn_buy_now: "Купить сейчас",
        modal_rent_desc: "Пожалуйста, выберите длительность и подтвердите.",
        btn_confirm: "Подтвердить",
        btn_request: "Заказать звонок"
    },
    uz: {
        nav_home: "Bosh sahifa",
        nav_sell: "Sotib olish",
        nav_rent: "Ijara",
        nav_sitter: "Enaga",
        nav_analytics: "Tahlil",
        nav_contact: "Aloqa",
        hero_title: "Toshkentning ekologik hayvonlar platformasi",
        hero_subtitle: "Sotib oling, ijaraga oling va xizmatlarni toping",
        hero_cta: "Boshlang‘ich qo‘llanma",
        hero_contact: "Bog‘lanish",
        sect_sell_title: "Hayvon sotib olish",
        sect_sell_desc: "Sevimli hayvonlar uchun yangi uy toping",
        pet_golden: "Oltin Retriver",
        pet_siamese: "Siyam mushugi",
        pet_parrot: "To‘ti",
        btn_details: "Batafsil",
        sect_rent_title: "Hayvon ijarasi",
        sect_rent_desc: "Majburiyatsiz vaqt o‘tkazing",
        rent_dog: "It bilan sayr",
        rent_dog_desc: "Salomatlik va zavq uchun ajoyib.",
        rent_cat: "Mushuk terapiyasi",
        rent_cat_desc: "Purrlaydigan do‘st bilan dam oling.",
        btn_book: "Band qilish",
        sect_sitter_title: "Enaga topish",
        sect_sitter_desc: "Siz yo‘qligingizda ishonchli parvarish",
        sitter_exp_1: "It va mushuklar bilan 5 yillik tajriba.",
        sitter_exp_2: "Ekzotik qushlar bo‘yicha mutaxassis.",
        btn_contact: "Bog‘lanish",
        sect_lost_title: "Yo‘qolgan va Topilgan",
        sect_lost_desc: "Hayvonlarni egalariga qaytarishga yordam bering",
        status_lost: "YO‘QOLGAN",
        lost_dog_name: "Reks (Nemis ovcharkasi)",
        last_seen: "So‘nggi ko‘rilgan: Chilonzor",
        btn_found: "Men topdim",
        sect_analytics_title: "Tahlillar",
        sect_analytics_desc: "Toshkentdagi tendensiyalar",
        chart_adoption: "Asrab olish darajasi",
        chart_types: "Mashhur turlar",
        sect_contact_title: "Biz bilan bog‘laning",
        btn_send: "Yuborish",
        modal_desc: "Bu hayvon yangi uy qidirmoqda. Sharoitingiz borligiga ishonch hosil qiling.",
        btn_buy_now: "Hozir sotib olish",
        modal_rent_desc: "Iltimos, muddatni tanlang va tasdiqlang.",
        btn_confirm: "Tasdiqlash",
        btn_request: "Qo‘ng‘iroq so‘rash"
    }
};

function setLanguage(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            el.textContent = translations[lang][key];
        }
    });

    // Update active button state
    document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
    // Simple logic to highlight the clicked button (event delegation or re-query can update this better in main.js if needed, but this works for direct calls)
    const btns = Array.from(document.querySelectorAll('.lang-btn'));
    const targetBtn = btns.find(b => b.textContent.toLowerCase() === lang);
    if (targetBtn) targetBtn.classList.add('active');

    // Save preference
    localStorage.setItem('preferredLang', lang);
}

// Init language on load
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('preferredLang') || 'en';
    setLanguage(savedLang);
});
